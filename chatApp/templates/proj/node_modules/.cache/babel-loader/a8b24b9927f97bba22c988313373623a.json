{"ast":null,"code":"import _classCallCheck from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Spin,Icon}from\"antd\";import{connect}from\"react-redux\";import*as actions from\"../store/actions/auth\";import*as navActions from\"../store/actions/nav\";import*as messageActions from\"../store/actions/message\";import Contact from\"../components/Contact\";import'./../assets/style.css';var antIcon=/*#__PURE__*/React.createElement(Icon,{type:\"loading\",style:{fontSize:24},spin:true});var Sidepanel=/*#__PURE__*/function(_React$Component){_inherits(Sidepanel,_React$Component);var _super=_createSuper(Sidepanel);function Sidepanel(){var _this;_classCallCheck(this,Sidepanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loginForm:true,chat:{}};_this.changeForm=function(){_this.setState({loginForm:!_this.state.loginForm});};_this.authenticate=function(e){e.preventDefault();if(_this.state.loginForm){_this.props.login(e.target.username.value,e.target.password.value);}else{_this.props.signup(e.target.username.value,e.target.email.value,e.target.password.value,e.target.password2.value);}};_this.getUsername=function(){var getUser=localStorage.getItem('username');if(getUser!==undefined&&getUser!==null){var name=getUser.charAt(0).toUpperCase()+getUser.slice(1);return name;}// fetch(`http://localhost:8000/chat/${id}`)\n//   .then(response => response.json())\n//   .then(res=>{this.setState({chat:res})})\n// .then(data=>data)\n// console.log('okkkkkkkkkkkkk',obj)\n// // this.setState({id:obj.id})\n// return obj.id\n};return _this;}_createClass(Sidepanel,[{key:\"waitForAuthDetails\",value:function waitForAuthDetails(){var component=this;setTimeout(function(){if(component.props.token!==null&&component.props.token!==undefined){component.props.getUserChats(component.props.username,component.props.token);return;}else{console.log(\"waiting for authentication details...\");component.waitForAuthDetails();}},100);}},{key:\"componentDidMount\",value:function componentDidMount(){this.waitForAuthDetails();}},{key:\"openAddChatPopup\",value:function openAddChatPopup(){this.props.addChat();}},{key:\"render\",value:function render(){var _this2=this;var activeChats=this.props.chats.map(function(c){return/*#__PURE__*/React.createElement(Contact,{key:c.id,name:c.memebers_name,picURL:\"http://emilcarlsson.se/assets/louislitt.png\",status:\"busy\",chatURL:\"\".concat(c.memebers_name)});});return/*#__PURE__*/React.createElement(\"div\",{id:\"sidepanel\"},/*#__PURE__*/React.createElement(\"div\",{id:\"profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrap\",style:{fontSize:'12px'}},localStorage.getItem('username')===null?/*#__PURE__*/React.createElement(\"p\",null,\"Enter Login info here\"):/*#__PURE__*/React.createElement(\"img\",{id:\"profile-img\",src:\"http://emilcarlsson.se/assets/mikeross.png\",className:\"online\",alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,this.getUsername()),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-down expand-button\",\"aria-hidden\":\"true\"}),/*#__PURE__*/React.createElement(\"div\",{id:\"status-options\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{id:\"status-online\",className:\"active\"},/*#__PURE__*/React.createElement(\"span\",{className:\"status-circle\"}),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"Online\")),/*#__PURE__*/React.createElement(\"li\",{id:\"status-away\"},/*#__PURE__*/React.createElement(\"span\",{className:\"status-circle\"}),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"Away\")),/*#__PURE__*/React.createElement(\"li\",{id:\"status-busy\"},/*#__PURE__*/React.createElement(\"span\",{className:\"status-circle\"}),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"Busy\")),/*#__PURE__*/React.createElement(\"li\",{id:\"status-offline\"},/*#__PURE__*/React.createElement(\"span\",{className:\"status-circle\"}),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"Offline\")))),/*#__PURE__*/React.createElement(\"div\",{id:\"expanded\"},this.props.loading?/*#__PURE__*/React.createElement(Spin,{indicator:antIcon}):this.props.isAuthenticated?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.props.logout();},className:\"authBtn\"},/*#__PURE__*/React.createElement(\"span\",null,\"Logout\")):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{method:\"POST\",onSubmit:this.authenticate},this.state.loginForm?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{name:\"username\",type:\"text\",placeholder:\"username\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",type:\"password\",placeholder:\"password\"})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{name:\"username\",type:\"text\",placeholder:\"username\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"email\",placeholder:\"email\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",type:\"password\",placeholder:\"password\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"password2\",type:\"password\",placeholder:\"password confirm\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Authenticate\")),/*#__PURE__*/React.createElement(\"button\",{onClick:this.changeForm},\"Switch\"))))),localStorage.getItem('username')===null?/*#__PURE__*/React.createElement(\"p\",null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"contacts\"},/*#__PURE__*/React.createElement(\"ul\",null,activeChats)),/*#__PURE__*/React.createElement(\"div\",{id:\"bottom-bar\"},/*#__PURE__*/React.createElement(\"button\",{id:\"addChat\",style:{width:'100%',fontSize:'15px'},onClick:function onClick(){return _this2.openAddChatPopup();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-user-plus fa-fw\",\"aria-hidden\":\"true\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Create chat\")))));}}]);return Sidepanel;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.token!==null,loading:state.auth.loading,token:state.auth.token,username:state.auth.username,chats:state.message.chats};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(userName,password){return(// dispatch(actions.authLogin(localStorage.getItem('name'), localStorage.getItem('password'))),\ndispatch(actions.authLogin(userName,password)));},logout:function logout(){return dispatch(actions.logout());},signup:function signup(username,email,password1,password2){return dispatch(actions.authSignup(username,email,password1,password2));},addChat:function addChat(){return dispatch(navActions.openAddChatPopup());},getUserChats:function getUserChats(username,token){return dispatch(messageActions.getUserChats(username,token));}};};export default connect(mapStateToProps,mapDispatchToProps)(Sidepanel);","map":{"version":3,"sources":["E:/Programming/React/For Merging Chat-App/proj/src/containers/Sidepanel.js"],"names":["React","Spin","Icon","connect","actions","navActions","messageActions","Contact","antIcon","fontSize","Sidepanel","state","loginForm","chat","changeForm","setState","authenticate","e","preventDefault","props","login","target","username","value","password","signup","email","password2","getUsername","getUser","localStorage","getItem","undefined","name","charAt","toUpperCase","slice","component","setTimeout","token","getUserChats","console","log","waitForAuthDetails","addChat","activeChats","chats","map","c","id","memebers_name","loading","isAuthenticated","logout","width","openAddChatPopup","Component","mapStateToProps","auth","message","mapDispatchToProps","dispatch","userName","authLogin","password1","authSignup"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Spin, Icon } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../store/actions/auth\";\r\nimport * as navActions from \"../store/actions/nav\";\r\nimport * as messageActions from \"../store/actions/message\";\r\nimport Contact from \"../components/Contact\";\r\nimport './../assets/style.css'\r\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 24 }} spin />;\r\n\r\nclass Sidepanel extends React.Component {\r\n  state = {\r\n    loginForm: true,\r\n    chat:{}\r\n  };\r\n\r\n  waitForAuthDetails() {\r\n    const component = this;\r\n    setTimeout(function() {\r\n      if (\r\n        component.props.token !== null &&\r\n        component.props.token !== undefined\r\n      ) {\r\n        component.props.getUserChats(\r\n          component.props.username,\r\n          component.props.token\r\n        );\r\n        return;\r\n      } else {\r\n        console.log(\"waiting for authentication details...\");\r\n        component.waitForAuthDetails();\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.waitForAuthDetails();\r\n  }\r\n\r\n  \r\n  openAddChatPopup() {\r\n    this.props.addChat();\r\n  }\r\n\r\n  changeForm = () => {\r\n    this.setState({ loginForm: !this.state.loginForm });\r\n  };\r\n\r\n  authenticate = e => {\r\n    e.preventDefault();\r\n    if (this.state.loginForm) {\r\n      this.props.login(e.target.username.value, e.target.password.value);\r\n    } else {\r\n      this.props.signup(\r\n        e.target.username.value,\r\n        e.target.email.value,\r\n        e.target.password.value,\r\n        e.target.password2.value\r\n      );\r\n    }\r\n  };\r\n\r\n  getUsername = () => {\r\n    var getUser = localStorage.getItem('username')\r\n    \r\n    if (getUser !== undefined && getUser!==null) {\r\n      var name = getUser.charAt(0).toUpperCase() + getUser.slice(1)\r\n      return name\r\n    }\r\n    // fetch(`http://localhost:8000/chat/${id}`)\r\n    //   .then(response => response.json())\r\n    //   .then(res=>{this.setState({chat:res})})\r\n        \r\n      // .then(data=>data)\r\n    // console.log('okkkkkkkkkkkkk',obj)\r\n    // // this.setState({id:obj.id})\r\n    // return obj.id\r\n  }\r\n\r\n  \r\n  render() {\r\n    let activeChats = this.props.chats.map(c => {\r\n      \r\n      return (\r\n        \r\n        <Contact\r\n          key={c.id}\r\n          name={c.memebers_name}\r\n          picURL=\"http://emilcarlsson.se/assets/louislitt.png\"\r\n          status=\"busy\"\r\n          chatURL={`${c.memebers_name}`}\r\n          />\r\n          \r\n      );\r\n    } );\r\n    return (\r\n      <div id=\"sidepanel\">\r\n        <div id=\"profile\">\r\n          <div className=\"wrap\" style={{fontSize:'12px'}}>\r\n            \r\n            {localStorage.getItem('username')===null?<p>Enter Login info here</p>: <img\r\n              id=\"profile-img\"\r\n              src=\"http://emilcarlsson.se/assets/mikeross.png\"\r\n              className=\"online\"\r\n              alt=\"\"\r\n            />}\r\n            \r\n            <p>{this.getUsername()}</p>\r\n            <i\r\n              className=\"fa fa-chevron-down expand-button\"\r\n              aria-hidden=\"true\"\r\n            />\r\n            <div id=\"status-options\">\r\n              <ul>\r\n                <li id=\"status-online\" className=\"active\">\r\n                  <span className=\"status-circle\" /> <p>Online</p>\r\n                </li>\r\n                <li id=\"status-away\">\r\n                  <span className=\"status-circle\" /> <p>Away</p>\r\n                </li>\r\n                <li id=\"status-busy\">\r\n                  <span className=\"status-circle\" /> <p>Busy</p>\r\n                </li>\r\n                <li id=\"status-offline\">\r\n                  <span className=\"status-circle\" /> <p>Offline</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div id=\"expanded\">\r\n              {this.props.loading ? (\r\n                <Spin indicator={antIcon} />\r\n              ) : this.props.isAuthenticated ? (\r\n                <button onClick={() => this.props.logout()} className=\"authBtn\">\r\n                  <span>Logout</span>\r\n                </button>\r\n              ) : (\r\n                <div>\r\n                  <form method=\"POST\" onSubmit={this.authenticate}>\r\n                    {this.state.loginForm ? (\r\n                      <div>\r\n                        <input\r\n                          name=\"username\"\r\n                          type=\"text\"\r\n                          placeholder=\"username\"\r\n                        />\r\n                        <input\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"password\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <input\r\n                          name=\"username\"\r\n                          type=\"text\"\r\n                          placeholder=\"username\"\r\n                        />\r\n                        <input name=\"email\" type=\"email\" placeholder=\"email\" />\r\n                        <input\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"password\"\r\n                        />\r\n                        <input\r\n                          name=\"password2\"\r\n                          type=\"password\"\r\n                          placeholder=\"password confirm\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n\r\n                        <button type=\"submit\"  >Authenticate</button>\r\n                  </form>\r\n\r\n                  <button onClick={this.changeForm}>Switch</button>\r\n                </div>\r\n                  )}\r\n              \r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        \r\n        {\r\n          localStorage.getItem('username') === null ? <p></p> :\r\n            <div >\r\n              <div  id=\"contacts\">\r\n                 <ul >{activeChats}</ul>\r\n              </div>\r\n            <div id=\"bottom-bar\" >\r\n              <button id=\"addChat\" style={{width:'100%',fontSize:'15px'}} onClick={() => this.openAddChatPopup()}>\r\n                <i className=\"fa fa-user-plus fa-fw\" aria-hidden=\"true\" />\r\n                <span>Create chat</span>\r\n              </button>\r\n              \r\n              </div>\r\n              </div>\r\n        }\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n    loading: state.auth.loading,\r\n    token: state.auth.token,\r\n    username: state.auth.username,\r\n    chats: state.message.chats\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    login: (userName, password) =>\r\n      // dispatch(actions.authLogin(localStorage.getItem('name'), localStorage.getItem('password'))),\r\n      dispatch(actions.authLogin(userName, password)),\r\n    logout: () => dispatch(actions.logout()),\r\n    signup: (username, email, password1, password2) =>\r\n      dispatch(actions.authSignup(username, email, password1, password2)),\r\n    addChat: () => dispatch(navActions.openAddChatPopup()),\r\n    getUserChats: (username, token) =>\r\n      dispatch(messageActions.getUserChats(username, token))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Sidepanel);\r\n"]},"metadata":{},"sourceType":"module"}