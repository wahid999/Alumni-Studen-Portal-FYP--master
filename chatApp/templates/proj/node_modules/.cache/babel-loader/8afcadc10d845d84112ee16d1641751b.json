{"ast":null,"code":"import _classCallCheck from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _assertThisInitialized from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createClass from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Programming\\\\React\\\\For Merging Chat-App\\\\proj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{BrowserRouter as Router}from\"react-router-dom\";import BaseRouter from\"./routes\";import Sidepanel from\"./containers/Sidepanel\";import Profile from\"./containers/Profile\";import AddChatModal from\"./containers/Popup\";import*as actions from\"./store/actions/auth\";import*as navActions from\"./store/actions/nav\";import*as messageActions from\"./store/actions/message\";import WebSocketInstance from\"./websocket\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onTryAutoSignup();}}]);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);WebSocketInstance.addCallbacks(_this.props.setMessages.bind(_assertThisInitialized(_this)),_this.props.addMessage.bind(_assertThisInitialized(_this)));return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",{id:\"frame\"},/*#__PURE__*/React.createElement(Sidepanel,null),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(AddChatModal,{isVisible:this.props.showAddChatPopup,close:function close(){return _this2.props.closeAddChatPopup();}}),/*#__PURE__*/React.createElement(BaseRouter,null))));}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{showAddChatPopup:state.nav.showAddChatPopup,authenticated:state.auth.token,chats:state.message.chats};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onTryAutoSignup:function onTryAutoSignup(){return dispatch(actions.authCheckState());},closeAddChatPopup:function closeAddChatPopup(){return dispatch(navActions.closeAddChatPopup());},addMessage:function addMessage(message){return dispatch(messageActions.addMessage(message));},setMessages:function setMessages(messages){return dispatch(messageActions.setMessages(messages));},getUserChats:function getUserChats(username,token){return dispatch(messageActions.getUserChats(username,token));}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["E:/Programming/React/For Merging Chat-App/proj/src/App.js"],"names":["React","connect","BrowserRouter","Router","BaseRouter","Sidepanel","Profile","AddChatModal","actions","navActions","messageActions","WebSocketInstance","App","props","onTryAutoSignup","addCallbacks","setMessages","bind","addMessage","showAddChatPopup","closeAddChatPopup","Component","mapStateToProps","state","nav","authenticated","auth","token","chats","message","mapDispatchToProps","dispatch","authCheckState","messages","getUserChats","username"],"mappings":"s2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,UAAP,KAAuB,UAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,sBAAzB,CACA,MAAO,GAAKC,CAAAA,UAAZ,KAA4B,qBAA5B,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,yBAAhC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,aAA9B,C,GAEMC,CAAAA,G,mLACgB,CAClB,KAAKC,KAAL,CAAWC,eAAX,GACD,C,IAED,aAAYD,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EACAF,iBAAiB,CAACI,YAAlB,CACE,MAAKF,KAAL,CAAWG,WAAX,CAAuBC,IAAvB,+BADF,CAEE,MAAKJ,KAAL,CAAWK,UAAX,CAAsBD,IAAtB,+BAFF,EAFiB,aAMlB,C,uDAEQ,iBACP,mBACE,oBAAC,MAAD,mBACE,2BAAK,EAAE,CAAC,OAAR,eACE,oBAAC,SAAD,MADF,cAEE,2BAAK,SAAS,CAAC,SAAf,eACE,oBAAC,YAAD,EACE,SAAS,CAAE,KAAKJ,KAAL,CAAWM,gBADxB,CAEE,KAAK,CAAE,uBAAM,CAAA,MAAI,CAACN,KAAL,CAAWO,iBAAX,EAAN,EAFT,EADF,cAME,oBAAC,UAAD,MANF,CAFF,CADF,CADF,CAeD,C,iBA7BepB,KAAK,CAACqB,S,EAgCxB,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC/B,MAAO,CACLJ,gBAAgB,CAAEI,KAAK,CAACC,GAAN,CAAUL,gBADvB,CAELM,aAAa,CAAEF,KAAK,CAACG,IAAN,CAAWC,KAFrB,CAGLC,KAAK,CAAEL,KAAK,CAACM,OAAN,CAAcD,KAHhB,CAAP,CAKD,CAND,CAUA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO,CACLjB,eAAe,CAAE,iCAAMiB,CAAAA,QAAQ,CAACvB,OAAO,CAACwB,cAAR,EAAD,CAAd,EADZ,CAELZ,iBAAiB,CAAE,mCAAMW,CAAAA,QAAQ,CAACtB,UAAU,CAACW,iBAAX,EAAD,CAAd,EAFd,CAGLF,UAAU,CAAE,oBAAAW,OAAO,QAAIE,CAAAA,QAAQ,CAACrB,cAAc,CAACQ,UAAf,CAA0BW,OAA1B,CAAD,CAAZ,EAHd,CAILb,WAAW,CAAE,qBAAAiB,QAAQ,QAAIF,CAAAA,QAAQ,CAACrB,cAAc,CAACM,WAAf,CAA2BiB,QAA3B,CAAD,CAAZ,EAJhB,CAKLC,YAAY,CAAE,sBAACC,QAAD,CAAWR,KAAX,QACZI,CAAAA,QAAQ,CAACrB,cAAc,CAACwB,YAAf,CAA4BC,QAA5B,CAAsCR,KAAtC,CAAD,CADI,EALT,CAAP,CAQD,CATD,CAWA,cAAe1B,CAAAA,OAAO,CACpBqB,eADoB,CAEpBQ,kBAFoB,CAAP,CAGblB,GAHa,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport BaseRouter from \"./routes\";\nimport Sidepanel from \"./containers/Sidepanel\";\nimport Profile from \"./containers/Profile\";\nimport AddChatModal from \"./containers/Popup\";\nimport * as actions from \"./store/actions/auth\";\nimport * as navActions from \"./store/actions/nav\";\nimport * as messageActions from \"./store/actions/message\";\nimport WebSocketInstance from \"./websocket\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  constructor(props) {\n    super(props);\n    WebSocketInstance.addCallbacks(\n      this.props.setMessages.bind(this),\n      this.props.addMessage.bind(this)\n    );\n  }\n\n  render() {\n    return (\n      <Router>\n        <div id=\"frame\">\n          <Sidepanel />\n          <div className=\"content\">\n            <AddChatModal\n              isVisible={this.props.showAddChatPopup}\n              close={() => this.props.closeAddChatPopup()}\n            />\n\n            <BaseRouter />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showAddChatPopup: state.nav.showAddChatPopup,\n    authenticated: state.auth.token,\n    chats: state.message.chats,\n  };\n};\n\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\n    addMessage: message => dispatch(messageActions.addMessage(message)),\n    setMessages: messages => dispatch(messageActions.setMessages(messages)),\n    getUserChats: (username, token) =>\n      dispatch(messageActions.getUserChats(username, token)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n"]},"metadata":{},"sourceType":"module"}